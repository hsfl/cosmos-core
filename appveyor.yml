version: '{build}'
branches:
  only:
  - master
  
# clone directory
clone_folder: c:\cosmos\source\core

# fetch repository as zip archive
shallow_clone: true

install:
  #- set QTDIR=C:\Qt\5.5\mingw492_32
  #- set PATH=%PATH%;%QTDIR%\bin;C:\MinGW\bin
  # Workaround for CMake not wanting sh.exe on PATH for MinGW
  - set PATH=%PATH:C:\Program Files (x86)\Git\bin;=%
  - set PATH=C:\MinGW\bin;%PATH%

# scripts to run before build
before_build:
  - cmd: cd build
  - cmd: cmake --version
  - cmd: cmake .. -G "MinGW Makefiles"
  #- cmd: dir %QTDIR%\bin
  #- cmd: dir C:\MinGW\bin
  
build_script:
  - cmake ../
  #- mingw32-make
  #- cmake -DCMAKE_BUILD_TYPE=%CONFIGURATION% -G "%GENERATOR%" ..

#build_script: cmake --build . --config %CONFIGURATION%